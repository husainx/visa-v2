<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  </head>

  <style>
    :root {
      --bg: #111316;
      --logo: url(https://assets.codepen.io/13471/threads.svg);
      --logopng: url(assets/images/pattern_tile.png);
      --ticket: url(https://assets.codepen.io/13471/ticket-shape.svg);
      --ar: 20/30;
      --gutter: 8%;
    }

    #app {
      perspective: 1200px;
      --o: 0;
      --p: 100%;
      --h: 50%;
      --r: 0;
      transform: translate3d(0, 0, 0.1px);
    }

    .ticket {
      --scale: 1;
      transform: translate3d(0, 0, 0.1px) scale(var(--scale)) rotateY(var(--r));
      transform-style: preserve-3d;
      pointer-events: auto;
    }

    .front,
    .back {
      grid-area: 1/1;
      background-color: #6e6176;
      background-image: linear-gradient(
        45deg,
        #dae9b4 10%,
        #ddefd1 30%,
        #ecf5e6 40%,
        #c4eef6 60%,
        #aadee9 100%,
        transparent 0%
      );
      background-size: 100% 220vh;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 15px;
      display: grid;
      backface-visibility: visible;
      transform: translateZ(1px);
      transform-style: preserve-3d;
      mask-image: var(--ticket);
      mask-size: cover;
      mask-repeat: no-repeat;
    }
    .cutout {
      position: absolute;
    }

    .front::after,
    .back::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image: linear-gradient(
        -70deg,
        transparent 40%,
        rgba(255, 255, 255, 0.5) 40.5%,
        transparent
      );
      background-size: 200% 200%;
      background-position: var(--p) var(--p);
      z-index: 5;
      opacity: calc(var(--o) + 0.5);
      pointer-events: none;
    }

    .front {
      transform: rotateY(180deg) translateZ(1px);
    }

    .holo {
      display: block;
      position: absolute;
      inset: 0;
      border-radius: 15px;
    }

    .holo {
      --space: 5%;
      --red: hsl(0, 100%, 50%);
      --orange: hsl(30, 100%, 50%);
      --yellow: hsl(60, 100%, 50%);
      --green: hsl(120, 100%, 50%);
      --cyan: hsl(180, 100%, 50%);
      --blue: hsl(222, 100%, 50%);
      --purple: hsl(258, 100%, 50%);
      --magenta: hsl(300, 100%, 50%);
      background-image: repeating-linear-gradient(
        -45deg,
        var(--red) 0%,
        var(--orange) calc(var(--space) * 1),
        var(--yellow) calc(var(--space) * 2),
        var(--green) calc(var(--space) * 3),
        var(--cyan) calc(var(--space) * 4),
        var(--blue) calc(var(--space) * 5),
        var(--purple) calc(var(--space) * 6),
        var(--magenta) calc(var(--space) * 7),
        var(--red) calc(var(--space) * 8)
      );
      background-size: 150vw 150vh;
      background-position: calc(var(--h)) calc(var(--h));
      background-repeat: no-repeat;
      mask-image: var(--logopng);
      mask-size: 30%;
      mask-repeat: repeat;
      mix-blend-mode: plus-lighter;
      filter: brightness(0.9) contrast(0.7) saturate(2);
      opacity: var(--o);
    }

    .logo,
    .data {
      position: relative;
      z-index: 2;
    }

    .logo {
      width: 50%;
      place-self: center;
      transform: translateY(-14%);
    }

    .back .logo {
      position: absolute;
      right: var(--gutter);
      top: 13%;
      width: 16%;
      image-rendering: optimize-speed;
      image-rendering: crisp-edges;
    }

    .data {
      margin: 14% var(--gutter);
      text-transform: uppercase;
    }

    h3 {
      font-size: 20px;
      font-weight: 400;
      line-height: 1;
      margin: 0.2em 0;
    }

    p {
      font-size: 32px;
      font-weight: 400;
      line-height: 1;
      margin: 0.2em 0 1em;
    }

    [contenteditable] {
      outline: none;
    }
    [contenteditable]:focus {
      background: rgba(0, 0, 0, 0.8);
      color: white;
    }

    .qr {
      max-width: 30%;
      display: block;
      image-rendering: optimize-speed;
      image-rendering: crisp-edges;
    }

    .divider {
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: space-between;
      bottom: 2%;
      left: 0;
      right: 0;
      height: 18%;
      padding: 0 var(--gutter);

      background-image: repeating-linear-gradient(
          90deg,
          #fff0 0px,
          #fff0 8px,
          #0005 8px,
          #0005 16px
        ),
        radial-gradient(ellipse at center center, #fff0 10%, transparent 50%);
      background-size: 100% 1.5px, 250% 1.5px;
      background-repeat: no-repeat;
      background-position: -4px top, var(--h) top;
      background-blend-mode: overlay;

      font-size: 16px;
      font-weight: 400;
      z-index: 2;
    }

    .username {
      display: flex;
      align-items: center;
      font-family: heebo;
      font-weight: 600;
    }

    .profile {
      border-radius: 100%;
      width: 40px;
      box-shadow: 0 0 0 1.33px black;
      margin-right: 10px;
      image-rendering: optimize-speed;
      image-rendering: crisp-edges;
    }

    .verified {
      width: 18px;
      margin-left: 5px;
    }
    .usernum {
      font-size: 20px;
    }

    img {
      display: block;
      max-width: 100%;
    }

    h1 {
      font-family: "Roboto Mono", monospace;
      position: fixed;
      top: 20px;
      text-align: center;
      z-index: 1;
    }

    * {
      box-sizing: border-box;
    }

    body,
    html {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #app {
      color: black;
      font-family: "Roboto Mono", monospace;

      display: grid;
      grid: 1fr/1fr;
      place-content: center;
      overflow: hidden;
      padding: 50px;
      z-index: 999;
    }

    .ticket {
      display: grid;
      grid-area: 1/1;
      width: 400px;
      aspect-ratio: var(--ar);
    }

    @media screen and (max-width: 400px) {
      .ticket {
        --scale: 0.75;
      }
    }
  </style>
  <body>
    <main id="app">
      <section class="ticket">
        <!-- <header class="front">
          <div class="holo"></div>
          <img
            class="logo"
            src="https://assets.codepen.io/13471/threads.svg"
            alt="The logo for the Application called Threads, an instagram App. It's a '@' symbol but with the tail going in the opposite direction."
          />
          <aside class="divider"></aside>
        </header> -->

        <section class="back">
          <div class="holo"></div>
          <img
            class="logo"
            src="https://assets.codepen.io/13471/threads.svg"
            alt="The logo for the Application called Threads, an instagram App. It's a '@' symbol but with the tail going in the opposite direction."
          />
          <div class="data">
            <h3>Date</h3>
            <p contenteditable spellcheck="false">Thu Jul 6</p>
            <h3>Time</h3>
            <p contenteditable spellcheck="false">07:30 pm</p>
            <h3>Username</h3>
            <p contenteditable spellcheck="false">Simeydotme</p>
            <a class="qr" href="https://codepen.io/simeydotme" target="_blank">
              <img
                src="https://assets.codepen.io/13471/simeyqr.svg"
                alt="A code to use for accessing the simeydotme codepen profile"
              />
            </a>
          </div>

          <aside class="divider">
            <div class="username">
              <img
                class="profile"
                src="https://assets.codepen.io/13471/internal/avatars/users/default.png"
              />
              <span contenteditable spellcheck="false">simeydotme</span>
              <img
                class="verified"
                src="https://assets.codepen.io/13471/verified.png"
              />
            </div>
            <span class="usernum" contenteditable spellcheck="false"
              >180249081</span
            >
          </aside>
        </section>
      </section>
    </main>

    <!--













    social icons
-->
    <a
      class="social-icon codepen"
      href="https://codepen.io/simeydotme"
      title="view my codepens"
    >
      Made by Simey
    </a>

    <a class="social-icon twitter" href="https://twitter.com/simeydotme">
      <svg viewBox="0 0 24 24">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path
          d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"
        ></path>
      </svg>
    </a>
    <a class="social-icon github" href="https://github.com/simeydotme">
      <svg viewBox="0 0 24 24">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path
          d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
        ></path>
      </svg>
    </a>
    <script>
      // --- Settings ---
      const speed = 7; // controls the speed of the shimmer pieces
      const HOLO_PERIOD = 15; // seconds between holo plays

      // Make sure card never rotates
      gsap.set("#app", {
        "--r": "0deg",
        "--p": "100%",
        "--h": "50%",
        "--o": 0,
      });

      // Build a single "holo effect" timeline (paused by default)
      const holoTl = gsap.timeline({ paused: true });

      // Sequence: fade holo in, sweep across, return center, fade out
      holoTl
        .set("#app", { "--h": "50%", "--o": 0 })
        .to("#app", { "--o": 1, duration: speed / 2, ease: "power1.in" })
        .to(
          "#app",
          { "--h": "100%", duration: speed / 2, ease: "sine.in" },
          "<"
        )
        .to("#app", { "--h": "0%", duration: speed, ease: "sine.inOut" })
        .to("#app", { "--h": "50%", duration: speed / 2, ease: "sine.out" })
        .to("#app", { "--o": 0, duration: speed / 2, ease: "power1.out" }, "<");

      // Kick once on load, then every HOLO_PERIOD seconds
      const kick = () => holoTl.restart();
      kick();
      let holoInterval = setInterval(kick, HOLO_PERIOD * 1000);

      // Pause shimmer while hovering the ticket (resume on schedule after leave)
      const $ticket = document.querySelector(".ticket");
      $ticket.addEventListener("mouseenter", () => {
        holoTl.pause();
      });
      $ticket.addEventListener("mouseleave", () => {
        // Option A: resume immediately
        holoTl.play();

        // Option B (comment above, uncomment below): wait for next interval tick
        // nothing here
      });

      // If you ever need to stop scheduling:
      // clearInterval(holoInterval);
    </script>
  </body>
</html>
